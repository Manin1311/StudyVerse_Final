<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Theme Toggle Test</title>
    <link rel="stylesheet" href="static/css/style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        .test-container {
            padding: 40px;
            max-width: 800px;
            margin: 0 auto;
        }

        .test-section {
            margin-bottom: 30px;
            padding: 20px;
            background: var(--bg-card);
            border: 1px solid var(--border);
            border-radius: 12px;
        }

        .test-title {
            color: var(--text-primary);
            margin-bottom: 10px;
        }

        .test-text {
            color: var(--text-secondary);
        }

        .theme-toggle-test {
            position: fixed;
            top: 20px;
            right: 20px;
            padding: 12px 24px;
            background: var(--accent-green);
            color: white;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 8px;
        }
    </style>
</head>

<body style="background: var(--bg-main); min-height: 100vh;">
    <button class="theme-toggle-test" id="theme-toggle">
        <i class="fa-solid fa-sun theme-icon-light"></i>
        <i class="fa-solid fa-moon theme-icon-dark"></i>
        Toggle Theme
    </button>

    <div class="test-container">
        <h1 style="color: var(--text-primary); margin-bottom: 30px;">Theme Toggle Test Page</h1>

        <div class="test-section">
            <h2 class="test-title">Primary Text Test</h2>
            <p class="test-text">This text should be clearly visible in both light and dark modes without needing to
                select it.</p>
        </div>

        <div class="test-section">
            <h3 class="test-title">Hardcoded Color Test</h3>
            <p style="color: #fff;">This text uses hardcoded #fff and should still be readable in light mode.</p>
            <p style="color: rgba(255, 255, 255, 0.7);">This text uses rgba(255, 255, 255, 0.7) and should adapt to
                light mode.</p>
        </div>

        <div class="test-section">
            <h3 class="test-title">Transition Test</h3>
            <p class="test-text">Click the toggle button and watch for smooth transitions. The theme should change
                smoothly without jarring color shifts.</p>
        </div>

        <div class="test-section" style="background: var(--bg-hover);">
            <h3 class="test-title">Background Variations</h3>
            <p class="test-text">This section uses bg-hover to show different background shades work correctly.</p>
        </div>

        <div class="test-section">
            <h3 class="test-title">Font Rendering Test</h3>
            <p style="font-weight: 800; color: #fff;">Heavy weight text (800)</p>
            <p style="font-weight: 600; color: #fff;">Semi-bold text (600)</p>
            <p style="font-weight: 400; color: var(--text-secondary);">Normal weight text (400)</p>
            <p style="font-weight: 300; color: var(--text-muted);">Light weight text (300)</p>
        </div>

        <div class="test-section">
            <h3 class="test-title">âœ… Expected Behavior</h3>
            <ul style="color: var(--text-secondary); line-height: 1.8;">
                <li>Smooth fade transition when toggling themes</li>
                <li>All text clearly visible in both modes</li>
                <li>No text requiring selection to read</li>
                <li>Consistent colors across all elements</li>
                <li>Professional, polished appearance</li>
            </ul>
        </div>
    </div>

    <script>
        // Theme Toggle Functionality
        (function () {
            const themeToggleBtn = document.getElementById('theme-toggle');
            const htmlElement = document.documentElement;

            // Get saved theme from localStorage or default to 'dark'
            const savedTheme = localStorage.getItem('theme') || 'dark';
            htmlElement.setAttribute('data-theme', savedTheme);

            if (themeToggleBtn) {
                themeToggleBtn.addEventListener('click', function () {
                    // Add switching animation class
                    this.classList.add('switching');

                    // Get current theme
                    const currentTheme = htmlElement.getAttribute('data-theme');
                    const newTheme = currentTheme === 'dark' ? 'light' : 'dark';

                    // Add a subtle fade overlay for smooth transition
                    const overlay = document.createElement('div');
                    overlay.style.cssText = `
                        position: fixed;
                        inset: 0;
                        background: ${newTheme === 'light' ? '#ffffff' : '#0c0c0c'};
                        opacity: 0;
                        pointer-events: none;
                        z-index: 9999;
                        transition: opacity 0.3s cubic-bezier(0.4, 0, 0.2, 1);
                    `;
                    document.body.appendChild(overlay);

                    // Trigger fade in
                    requestAnimationFrame(() => {
                        overlay.style.opacity = '0.3';
                    });

                    // Set new theme after brief delay
                    setTimeout(() => {
                        htmlElement.setAttribute('data-theme', newTheme);
                        localStorage.setItem('theme', newTheme);

                        // Fade out overlay
                        overlay.style.opacity = '0';

                        // Remove overlay after transition
                        setTimeout(() => {
                            overlay.remove();
                        }, 300);
                    }, 150);

                    // Remove animation class after animation completes
                    setTimeout(() => {
                        this.classList.remove('switching');
                    }, 500);
                });
            }
        })();
    </script>
</body>

</html>